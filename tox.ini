[tox]
envlist=py31,py27,py26,py25,jython,docs

[testenv]
changedir=fudge
deps=nose
commands=
  nosetests --with-doctest --with-xunit --xunit-file={toxinidir}/nosetests-{envname}.xml []

[testenv:docs]
basepython=python
changedir=docs
deps=sphinx
     nose
commands=
    make clean
    make doctest 
    make html
    ##make linkcheck

[testenv:py24]
# can't run doctests because +SKIP is not supported
commands=
  nosetests --with-xunit --xunit-file={toxinidir}/nosetests-{envname}.xml []

[testenv:py31]
basepython=python3.1
# change into any dir to prevent using the fudge source
changedir=.tox
# TODO: python 3 support will be released for Nose soon
deps=
    http://bitbucket.org/jpellerin/nose/get/tip.gz
distribute=True
commands=
  nosetests --with-xunit --xunit-file={toxinidir}/nosetests-{envname}.xml fudge.tests._py3_suite

